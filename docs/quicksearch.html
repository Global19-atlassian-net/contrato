<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Documentation Modules contrato Classes contrato.Blueprintcontrato.Contract Modules Classes Blueprint A blueprint contract data structure Contract A contract data structure × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-10-13T12:01:49+01:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Modules contrato Classes contrato.Blueprintcontrato.Contract Classes Classes Blueprint A blueprint contract data structure Contract A contract data structure × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-10-13T12:01:49+01:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Modules contrato Classes contrato.Blueprintcontrato.Contract Contrato The official contracts implementation Documentation | Code Coverage TestsRun the test npm script: npm testContribute Issue Tracker: github.com/resin-io-modules/contrato/issues Source Code: github.com/resin-io-modules/contrato Before submitting a PR, please make sure that you include tests, and that the linter runs without any warning: npm run lintSupportIf you're having any problem, please raise an issue on GitHub. LicenseThe project is licensed under the Apache 2.0 license. × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-10-13T12:01:49+01:00 using the DocStrap template. "},"module-contrato.html":{"id":"module-contrato.html","title":"Module: contrato","body":" Documentation Modules contrato Classes contrato.Blueprintcontrato.Contract Module: contrato Classes Blueprint A blueprint contract data structure Contract A contract data structure × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-10-13T12:01:49+01:00 using the DocStrap template. "},"module-contrato.Blueprint.html":{"id":"module-contrato.Blueprint.html","title":"Class: Blueprint","body":" Documentation Modules contrato Classes contrato.Blueprintcontrato.Contract Class: Blueprint contrato. Blueprint new Blueprint(layout, skeleton) A blueprint contract data structure Parameters: Name Type Description layout Object the blueprint layout skeleton Object the blueprint skeleton Example const blueprint = new Blueprint({ 'arch.sw': 1, 'hw.device-type': 1 }, { type: 'my-context', slug: '{{children.arch.sw.slug}}-{{children.hw.device-type.slug}}' }) Methods reproduce(contract) Reproduce the blueprint in a universe This method will generate a set of contexts that consist of every possible valid combination that matches the blueprint layout. Parameters: Name Type Description contract Object contract Returns: valid contexts Type Array.&lt;Object&gt; Example const contract = new Contract({ ... }) contract.addChildren([ ... ]) const blueprint = new Blueprint({ 'hw.device-type': 1, 'arch.sw': 1 }) const contexts = blueprint.reproduce(contract) contexts.forEach((context) =&gt; { console.log(context.toJSON()) }) × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-10-13T12:01:49+01:00 using the DocStrap template. "},"module-contrato.Contract.html":{"id":"module-contrato.Contract.html","title":"Class: Contract","body":" Documentation Modules contrato Classes contrato.Blueprintcontrato.Contract Class: Contract contrato. Contract new Contract(object [, options]) A contract data structure Parameters: Name Type Argument Description object Object the contract plain object options Object &lt;optional&gt; options Properties Name Type Argument Default Description hash Boolean &lt;optional&gt; true whether to hash the contract Example const contract = new Contract({ type: 'arch.sw', name: 'armv7hf', slug: 'armv7hf' }) Methods &lt;static&gt; build(source) Build a source contract Parameters: Name Type Description source Object source contract Returns: built contracts Type Array.&lt;Object&gt; Example const contracts = Contract.build({ name: 'debian {{version}}', slug: 'debian', type: 'sw.os', variants: [ { version: 'wheezy' }, { version: 'jessie' }, { version: 'sid' } ] }) contracts.forEach((contract) =&gt; { if (contract instanceof Contract) { console.log('This is a built contract') } }) &lt;static&gt; isEqual(contract1, contract2) Check if two contracts are equal Parameters: Name Type Description contract1 Object a contract contract2 Object a contract Returns: whether the contracts are equal Type Boolean Example const contract1 = new Contract({ ... }) const contract2 = new Contract({ ... }) if (Contract.isEqual(contract1, contract2)) { console.log('These contracts are equal') } addChild(contract [, options]) Add a child contract Parameters: Name Type Argument Description contract Object contract options Object &lt;optional&gt; options Properties Name Type Argument Default Description rehash Boolean &lt;optional&gt; true whether to re-hash the parent contract rebuild Boolean &lt;optional&gt; true whether to re-build the parent contract Returns: contract Type Object Example const contract = new Contract({ ... }) contract.addChild(new Contract({ ... })) addChildren(contracts [, options]) Add a set of children contracts to the contract This is a utility method over `.addChild()`. Parameters: Name Type Argument Description contracts Array.&lt;Object&gt; contracts options Object &lt;optional&gt; options Properties Name Type Argument Default Description rehash Boolean &lt;optional&gt; true whether to rehash the contract Returns: contract Type Object Example const contract = new Contract({ ... }) contract.addChildren([ new Contract({ ... }), new Contract({ ... }), new Contract({ ... }) ]) areChildrenSatisfied( [options]) Check if the contract children are satisfied Parameters: Name Type Argument Description options Object &lt;optional&gt; options Properties Name Type Argument Description types Set &lt;optional&gt; the types to consider (all by default) Returns: whether the children are satisfied Type Boolean Example const contract = new Contract({ ... }) contract.addChildren([ ... ]) if (contract.areChildrenSatisfied({ types: new Set([ 'sw.arch' ]) })) { console.log('This contract has all sw.arch requirements satisfied') } findChildren(matcher) Recursively find children using a matcher contract Parameters: Name Type Description matcher Object matcher contract Returns: children Type Array.&lt;Object&gt; Example const contract = new Contract({ ... }) contract.addChildren([ ... ]) const children = contract.findChildren(Contract.createMatcher({ type: 'sw.os', slug: 'debian' })) children.forEach((child) =&gt; { console.log(child) }) getAllSlugs() Get all the slugs this contract can be referenced with Returns: slugs Type Set Example const contract = new Contract({ type: 'hw.device-type', name: 'Raspberry Pi', slug: 'raspberrypi', aliases: [ 'rpi', 'raspberry-pi' ] }) console.log(contract.getAllSlugs()) &gt; Set { raspberrypi, rpi, raspberry-pi } getChildByHash(childHash) Get a single child by its hash Parameters: Name Type Description childHash String child contract hash Returns: child Type Object | Undefined Example const contract = new Contract({ ... }) contract.addChildren([ ... ]) const child = contract.getChildByHash('xxxxxxx') if (child) { console.log(child) } getChildren( [options]) Recursively get a set of children contracts Parameters: Name Type Argument Description options Object &lt;optional&gt; options Properties Name Type Argument Description types Set &lt;optional&gt; children types (all by default) Returns: children Type Array.&lt;Object&gt; Example const contract = new Contract({ ... }) const children = contract.getChildren({ types: new Set([ 'arch.sw' ]) }) for (const child of children) { console.log(child) } getChildrenByType(type) Get all the children contracts of a specific type Parameters: Name Type Description type String contract type Returns: children Type Array.&lt;Object&gt; Example const contract = new Contract({ ... }) contract.addChildren([ ... ]) const children = container.getChildrenByType('sw.os') children.forEach((child) =&gt; { console.log(child) }) getChildrenCombinations(options) Get all possible combinations from a type of children contracts Note that the client is responsible for evaluating that the combination of contracts is valid with regards to requirements, conflicts, etc. This function simply returns all the possible combinations without any further checks. The combinations output by this function is a plain list of contracts from which you can create a contract, or any other application specific data structure. Parameters: Name Type Description options Object options Properties Name Type Description type String contract type from Number number of contracts per combination (from) to Number number of contracts per combination (to) Returns: combinations Type Array.&lt;Array&gt; Example const contract = new Contract({ ... }) contract.addChildren([ new Contract({ name: 'Debian Wheezy', version: 'wheezy', slug: 'debian', type: 'sw.os' }), new Contract({ name: 'Debian Jessie', version: 'jessie', slug: 'debian', type: 'sw.os' }), new Contract({ name: 'Fedora 25', version: '25', slug: 'fedora', type: 'sw.os' }) ]) const combinations = contract.getChildrenCombinations({ type: 'sw.os', from: 2, to: 2 }) console.log(combinations) &gt; [ &gt; [ &gt; new Contract({ &gt; name: 'Debian Wheezy', &gt; version: 'wheezy', &gt; slug: 'debian', &gt; type: 'sw.os' &gt; }), &gt; new Contract({ &gt; name: 'Debian Jessie', &gt; version: 'jessie', &gt; slug: 'debian', &gt; type: 'sw.os' &gt; }) &gt; ], &gt; [ &gt; new Contract({ &gt; name: 'Debian Wheezy', &gt; version: 'wheezy', &gt; slug: 'debian', &gt; type: 'sw.os' &gt; }), &gt; new Contract({ &gt; name: 'Fedora 25', &gt; version: '25', &gt; slug: 'fedora', &gt; type: 'sw.os' &gt; }) &gt; ], &gt; [ &gt; new Contract({ &gt; name: 'Debian Jessie', &gt; version: 'jessie', &gt; slug: 'debian', &gt; type: 'sw.os' &gt; }), &gt; new Contract({ &gt; name: 'Fedora 25', &gt; version: '25', &gt; slug: 'fedora', &gt; type: 'sw.os' &gt; }) &gt; ] &gt; ] getChildrenCrossReferencedContracts(options) Get the children cross referenced contracts Parameters: Name Type Description options Object options Properties Name Type Description from Object contract to resolve external contracts from types Set types to consider Returns: children cross referenced contracts Type Array.&lt;Object&gt; Example const contract = new Contract({ ... }) contract.addChildren([ new Contract({ type: 'arch.sw', slug: 'armv7hf', name: 'armv7hf' }), new Contract({ type: 'sw.os', slug: 'raspbian', requires: [ { or: [ { type: 'arch.sw', slug: 'armv7hf' }, { type: 'arch.sw', slug: 'rpi' } ] } ] }), new Contract({ type: 'sw.stack', slug: 'nodejs', requires: [ { type: 'arch.sw', slug: 'armv7hf' } ] }) ]) const references = contract.getChildrenCrossReferencedContracts({ from: contract, types: new Set([ 'arch.sw' ]) }) console.log(references) &gt; [ &gt; Contract { &gt; type: 'arch.sw', &gt; slug: 'armv7hf', &gt; name: 'armv7hf' &gt; } &gt; ] getChildrenTypes() Recursively get the list of types known children contract types Returns: types Type Set Example const contract = new Contract({ ... }) contract.addChildren([ { ... }, { ... } ]) console.log(contract.getChildrenTypes()) getReferencedContracts(options) Recursively get the list of referenced contracts Parameters: Name Type Description options Object options Properties Name Type Description from Object contract to resolve external contracts from types Set types to consider Returns: referenced contracts Type Array.&lt;Object&gt; Example const universe = new Contract({ ... }) universe.addChildren([ ... ]) const contract = new Contract({ ... }) for (const reference of contract.getReferencedContracts({ types: new Set([ 'arch.sw' ]), from: universe })) { console.log(reference.toJSON()) } getReferenceString() Get a reference string for the contract Returns: reference string Type String Example const contract = new Contract({ type: 'arch.sw', name: 'armv7hf', slug: 'armv7hf' }) console.log(contract.getReferenceString()) getSlug() Get the contract slug Returns: slug - contract slug Type String Example const contract = new Contract({ type: 'arch.sw', name: 'armv7hf', slug: 'armv7hf' }) console.log(contract.getSlug()) getType() Get the contract type Returns: type - contract type Type String Example const contract = new Contract({ type: 'arch.sw', name: 'armv7hf', slug: 'armv7hf' }) console.log(contract.getType()) getVersion() Get the contract version Returns: slug - contract version Type String Example const contract = new Contract({ type: 'sw.os', name: 'Debian Wheezy', version: 'wheezy', slug: 'debian' }) console.log(contract.getVersion()) hasAliases() Check if a contract has aliases Returns: whether the contract has aliases Type Boolean Example const contract = new Contract({ type: 'hw.device-type', name: 'Raspberry Pi', slug: 'raspberrypi', aliases: [ 'rpi', 'raspberry-pi' ] }) if (contract.hasAliases()) { console.log('This contract has aliases') } removeChild(contract [, options]) Remove a child contract Parameters: Name Type Argument Description contract Object contract options Object &lt;optional&gt; options Properties Name Type Argument Default Description rehash Boolean &lt;optional&gt; true whether to rehash the contract Returns: parent contract Type Object Example const contract = new Contract({ ... }) const child = new Contract({ ... }) contract.addChild(child) contract.removeChild(child) satisfiesChildContract(contract [, options]) Check if a child contract is satisfied when applied to this contract Parameters: Name Type Argument Description contract Object child contract options Object &lt;optional&gt; options Properties Name Type Argument Description types Set &lt;optional&gt; the types to consider (all by default) Returns: whether the contract is satisfied Type Boolean Example const contract = new Contract({ ... }) contract.addChildren([ new Contract({ type: 'sw.os', name: 'Debian Wheezy', version: 'wheezy', slug: 'debian' }), new Contract({ type: 'sw.os', name: 'Fedora 25', version: '25', slug: 'fedora' }) ]) const child = new Contract({ type: 'sw.stack', name: 'Node.js', version: '4.8.0', slug: 'nodejs', requires: [ { or: [ { type: 'sw.os', slug: 'debian' }, { type: 'sw.os', slug: 'fedora' } ] } ] }) if (contract.satisfiesChildContract(child)) { console.log('The child contract is satisfied!') } toJSON() Return a JSON representation of a contract Returns: JSON object Type Object Example const contract = new Contract({ ... }) const object = contract.toJSON() console.log(JSON.stringify(object)) × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-10-13T12:01:49+01:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
